<report
    title="Species Data"
    description="Report used to retrieve description of a species and images associated with its taxon_meaning_id."
>
  <query website_filter_field="o.website_id">
    SELECT 'image', path as the_text, caption, external_details
    FROM taxon_media
    WHERE taxon_meaning_id=#taxon_meaning_id# and deleted=false
	order by (
	  case external_details 
        when 'Detail' then 1
        when 'Micro detail' then 2
        when 'Mikrobild' then 2
        when 'Mikrofoto' then 2
        when 'Appearance' then 3
        when 'Habitus' then 3
        when 'Celkový vzhled' then 3
        when 'Habitat' then 4
        when 'Standort' then 4
        when 'Stanoviště' then 4
    end)
  </query>
  <params>
    <param name='taxa_taxon_list_id' display='Taxon ID' description='ID of the taxon to loads notes for' datatype='text' emptyvalue='-1'/>
    <param name='taxon_meaning_id' display='Taxon meaning ID' description='The meaning ID of the taxon' datatype='text' emptyvalue='-1' />
  </params>
</report>
